<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
    <link rel="stylesheet" href="../styles/main.css">

</head>

<body>
    <nav id="navbar">
        <div class="container">
            <h1 class="logo"><a href="index.html">CLP</a></h1>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="events.html" class="current">Events</a></li>
                <li><a href="settings.html">Settings</a></li>
            </ul>
        </div>
    </nav>

    <main>

        <table id="eventsTable">
            <thead>
                <tr class="toolbar">
                    <th data-sort="title" colspan="4">
                        <input id="search" type="text" placeholder="Search Event" />
                    </th>
                    <th data-sort="dueDate"><button id="addEventBtn">+ Add Event</button></th>
                </tr>
                <tr>
                    <th data-sort="title">Event Name</th>
                    <th data-sort="dueDate">Due Date</th>
                    <th data-sort="duration">Duration</th>
                    <th data-sort="tag">Tag</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </main>

    <footer id="main-footer">
        <p>&copy; 2025 Campus Life Planner (CLP). All rights reserved.</p>
    </footer>

    <!-- === MODAL FORM POPUP === -->
    <div id="eventModal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-modal" aria-label="Close">&times;</button>
            <h2>Add Event</h2>
            <form id="eventForm" novalidate>
                <label>Event Name: <input id="title" name="title" required /></label>
                <label>Due Date: <input id="dueDate" type="date" required /></label>
                <label>Duration (mins): <input id="duration" type="number" required /></label>
                <label>Tag:
                    <select id="tag" required>
                        <option value="" disabled selected>Select a tag</option>
                        <option value="Academic">Academic</option>
                        <option value="Social">Social</option>
                        <option value="Health">Health</option>
                        <option value="Personal Development">Personal Development</option>
                        <option value="Other">Other</option>
                    </select>
                </label>
                <button type="submit">Save Event</button>
            </form>
        </div>
    </div>

    <div id="toastContainer" aria-live="polite" aria-atomic="true"></div>

    <script type="module">
        import { applySavedTheme } from '../scripts/utils.js';
        applySavedTheme();

    </script>
    <script type="module" src="../scripts/events.js"></script>

    <script type="module">
        import { state } from '../scripts/state.js';
        import { validateField, showToast } from '../scripts/utils.js';


        // Initial render
        // renderTable(state.events);
    </script>
</body>

</html>